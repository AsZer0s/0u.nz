<!doctype html><html><head><meta charset="utf-8"><title>Docker入门系列 (6) - CI/CD 与 Jenkins 实践</title><style>:root{--bg:#111315;--fg:#d6d6d6;--muted:#8b8b8b;--link:#8fa3ad;--link-hover:#c0d2db;--border:#2a2d30;--code-bg:#1a1d1f;--code-border:#2d3135}body{max-width:640px;margin:48px auto;padding:0 16px;background:var(--bg);color:var(--fg);font-family:'Noto Sans SC',system-ui,-apple-system,BlinkMacSystemFont;line-height:1.7}h1{font-size:1.2rem;font-weight:500;margin-bottom:12px}h2{font-size:1.1rem;font-weight:500;margin:2rem 0 1rem;color:var(--fg)}h3{font-size:1rem;font-weight:500;margin:1.5rem 0 0.75rem}.site-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}.site-logo{height:10px;width:auto;display:block}nav{margin-bottom:32px;font-size:0.9rem}nav a{color:var(--muted);text-decoration:none;margin-right:12px}nav a:hover{color:var(--fg)}ul{list-style:none;padding:0;margin:0}li{margin:0.8rem 0}li a{color:var(--link);font-size:0.95rem;text-decoration:none}li a:hover{color:var(--link-hover)}.post-date{color:var(--muted);font-size:0.9rem}p{margin:1em 0}code{background:var(--code-bg);border:1px solid var(--code-border);border-radius:4px;padding:2px 6px;font-family:'Consolas','Monaco','Courier New',monospace;font-size:0.9em;color:#e6e6e6}pre{background:var(--code-bg);border:1px solid var(--code-border);border-radius:6px;padding:16px;overflow-x:auto;margin:1.5em 0}pre::-webkit-scrollbar{height:6px}pre::-webkit-scrollbar-track{background:var(--code-bg)}pre::-webkit-scrollbar-thumb{background:var(--code-border);border-radius:3px}pre::-webkit-scrollbar-thumb:hover{background:var(--muted)}pre code{background:none;border:none;padding:0;font-size:0.875em;line-height:1.6}blockquote{border-left:3px solid var(--border);padding-left:1em;margin:1.5em 0;color:var(--muted);font-style:italic}a{color:var(--link);text-decoration:none}a:hover{color:var(--link-hover)}img{max-width:100%;height:auto;border-radius:4px;margin:1.5em 0}hr{border:none;border-top:1px solid var(--border);margin:2rem 0}table{width:100%;border-collapse:collapse;margin:1.5em 0}th,td{border:1px solid var(--border);padding:8px 12px;text-align:left}th{background:var(--code-bg);font-weight:500}article ul,article ol{list-style:initial;padding-left:2em;margin:1em 0}article li{margin:0.5em 0}footer{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border);text-align:center}.footer-logo{height:32px;width:auto;display:inline-block;opacity:0.6;transition:opacity 0.3s}.footer-logo:hover{opacity:1}</style><style> .post-meta{display:flex;align-items:center;gap:10px;font-size:13px;color:var(--muted);margin-bottom:24px;flex-wrap:wrap;}.post-tags{display:flex;gap:8px;flex-wrap:wrap;}.tag{font-size:12px;color:var(--muted);text-decoration:none;}.tag::before{content:"#";opacity:.4;}.tag:hover{color:var(--fg);} </style><script> MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']], processEscapes: true, processEnvironments: true }, options: { skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'] } }; </script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet"></head><body><p><a href="/">← index</a></p><h1>Docker入门系列 (6) - CI/CD 与 Jenkins 实践</h1><div class="post-meta"><span>2025-09-26</span><div class="post-tags"><a class="tag" href="/tags/Linux">Linux</a><a class="tag" href="/tags/开发">开发</a><a class="tag" href="/tags/Docker">Docker</a></div></div><article><p>在现代软件开发流程中，持续集成（CI）与持续部署（CD）已成为 DevOps 的核心实践</p><p>本章将介绍如何使用 Jenkins 与 Docker 构建自动化流水线，实现从代码提交到容器部署的全流程自动化</p><hr /><h2>什么是 CI/CD</h2><ul><li><strong>持续集成（CI）</strong>：开发者频繁地将代码集成到主分支，并自动进行构建与测试</li><li><strong>持续部署（CD）</strong>：将通过测试的代码自动部署到生产环境或测试环境</li></ul><p>CI/CD 能显著提升开发效率、减少人为错误，并加快产品迭代速度</p><hr /><h2>Jenkins 简介</h2><p>Jenkins 是一个开源的自动化服务器，支持构建、测试、部署等任务</p><p>它拥有丰富的插件生态，能够与 Docker、Git、Kubernetes 等工具无缝集成</p><hr /><h2>环境准备</h2><ol><li>安装 Docker</li><li>使用 Docker 启动 Jenkins：</li></ol><pre><code class="language-bash">docker run -d \ --name jenkins \ -p 8080:8080 -p 50000:50000 \ -v jenkins_home:/var/jenkins_home \ jenkins/jenkins:lts </code></pre><ol><li>访问 Jenkins：<code>http://localhost:8080</code></li></ol><p>首次启动会提示输入管理员密码，可通过容器日志获取：</p><pre><code class="language-bash">docker logs jenkins </code></pre><hr /><h2>安装必要插件</h2><p>在 Jenkins 插件管理中安装以下插件：</p><ul><li>Docker Pipeline</li><li>Git</li><li>Blue Ocean（可选，用于可视化流水线）</li><li>Pipeline Utility Steps</li></ul><hr /><h2>创建流水线项目</h2><ol><li>新建项目 → 选择“流水线”</li><li>在配置中添加 <code>Pipeline Script</code>：</li></ol><pre><code class="language-groovy">pipeline { agent any stages { stage('拉取代码') { steps { git 'https://github.com/your/repo.git' } } stage('构建镜像') { steps { script { docker.build('myapp') } } } stage('运行容器') { steps { sh 'docker run -d -p 8080:80 --name myapp myapp' } } } } </code></pre><hr /><h2>添加凭据与环境变量</h2><ul><li>在 Jenkins 中添加 Git 凭据（如 SSH Key 或用户名密码）</li><li>使用 <code>withCredentials</code> 或 <code>.env</code> 文件管理敏感信息</li></ul><hr /><h2>实现自动触发</h2><ul><li>配置 Git Webhook，使每次提交自动触发构建</li><li>或使用 Jenkins 的定时触发器（如 <code>H/5 * * * *</code> 每 5 分钟执行一次）</li></ul><hr /><h2>构建通知与回滚机制</h2><ul><li>集成邮件、Slack、Webhook 等通知方式</li><li>使用标签或版本控制实现回滚部署</li></ul><hr /><h2>总结</h2><p>通过 Jenkins 与 Docker 的结合，我们可以构建一个高效、稳定的自动化部署系统</p><p>CI/CD 不仅提升了开发效率，也增强了系统的可维护性与可靠性</p></article><hr><p><a href="/">← index</a></p><footer><img src="/0unz.png" alt="0u logo" class="footer-logo"></footer></body></html>