<!doctype html><html><head><meta charset="utf-8"><title>Docker入门系列 (3) - Docker 网络原理详解</title><style>:root{--bg:#111315;--fg:#d6d6d6;--muted:#8b8b8b;--link:#8fa3ad;--link-hover:#c0d2db;--border:#2a2d30;--code-bg:#1a1d1f;--code-border:#2d3135}body{max-width:640px;margin:48px auto;padding:0 16px;background:var(--bg);color:var(--fg);font-family:'Noto Sans SC',system-ui,-apple-system,BlinkMacSystemFont;line-height:1.7}h1{font-size:1.2rem;font-weight:500;margin-bottom:12px}h2{font-size:1.1rem;font-weight:500;margin:2rem 0 1rem;color:var(--fg)}h3{font-size:1rem;font-weight:500;margin:1.5rem 0 0.75rem}.site-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}.site-logo{height:10px;width:auto;display:block}nav{margin-bottom:32px;font-size:0.9rem}nav a{color:var(--muted);text-decoration:none;margin-right:12px}nav a:hover{color:var(--fg)}ul{list-style:none;padding:0;margin:0}li{margin:0.8rem 0}li a{color:var(--link);font-size:0.95rem;text-decoration:none}li a:hover{color:var(--link-hover)}.post-date{color:var(--muted);font-size:0.9rem}p{margin:1em 0}code{background:var(--code-bg);border:1px solid var(--code-border);border-radius:4px;padding:2px 6px;font-family:'Consolas','Monaco','Courier New',monospace;font-size:0.9em;color:#e6e6e6}pre{background:var(--code-bg);border:1px solid var(--code-border);border-radius:6px;padding:16px;overflow-x:auto;margin:1.5em 0}pre::-webkit-scrollbar{height:6px}pre::-webkit-scrollbar-track{background:var(--code-bg)}pre::-webkit-scrollbar-thumb{background:var(--code-border);border-radius:3px}pre::-webkit-scrollbar-thumb:hover{background:var(--muted)}pre code{background:none;border:none;padding:0;font-size:0.875em;line-height:1.6}blockquote{border-left:3px solid var(--border);padding-left:1em;margin:1.5em 0;color:var(--muted);font-style:italic}a{color:var(--link);text-decoration:none}a:hover{color:var(--link-hover)}img{max-width:100%;height:auto;border-radius:4px;margin:1.5em 0}hr{border:none;border-top:1px solid var(--border);margin:2rem 0}table{width:100%;border-collapse:collapse;margin:1.5em 0}th,td{border:1px solid var(--border);padding:8px 12px;text-align:left}th{background:var(--code-bg);font-weight:500}article ul,article ol{list-style:initial;padding-left:2em;margin:1em 0}article li{margin:0.5em 0}footer{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border);text-align:center}.footer-logo{height:32px;width:auto;display:inline-block;opacity:0.6;transition:opacity 0.3s}.footer-logo:hover{opacity:1}</style><style> .post-meta{display:flex;align-items:center;gap:10px;font-size:13px;color:var(--muted);margin-bottom:24px;flex-wrap:wrap;}.post-tags{display:flex;gap:8px;flex-wrap:wrap;}.tag{font-size:12px;color:var(--muted);text-decoration:none;}.tag::before{content:"#";opacity:.4;}.tag:hover{color:var(--fg);} </style><script> MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']], processEscapes: true, processEnvironments: true }, options: { skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'] } }; </script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet"></head><body><p><a href="/">← index</a></p><h1>Docker入门系列 (3) - Docker 网络原理详解</h1><div class="post-meta"><span>2025-09-23</span><div class="post-tags"><a class="tag" href="/tags/Linux">Linux</a><a class="tag" href="/tags/开发">开发</a><a class="tag" href="/tags/Docker">Docker</a></div></div><article><p>容器之间如何通信？容器如何暴露服务给外部？Docker 网络是容器化部署中不可忽视的一环。本章将深入解析 Docker 的网络模型、常见网络类型及其应用场景，帮助你构建更稳定、可控的容器网络环境。</p><hr /><h2>网络模型概览</h2><p>Docker 提供了多种网络驱动，满足不同场景下的容器通信需求：</p><ul><li><strong>bridge</strong>：默认网络，适用于单主机容器通信</li><li><strong>host</strong>：容器共享宿主机网络栈，性能高但隔离性弱</li><li><strong>none</strong>：容器无网络连接，适用于完全隔离场景</li><li><strong>overlay</strong>：跨主机容器通信，适用于 Swarm 集群</li><li><strong>macvlan</strong>：容器拥有独立 IP，适用于与物理网络集成</li></ul><hr /><h2>bridge 网络详解</h2><ul><li>Docker 默认创建一个名为 <code>bridge</code> 的虚拟网桥</li><li>所有未指定网络的容器都会连接到该网桥</li><li>容器之间可通过名称互相访问</li><li>可使用 <code>docker network inspect bridge</code> 查看网络详情</li></ul><p>示例：</p><pre><code class="language-bash">docker run -d --name web1 nginx docker run -d --name web2 nginx docker exec -it web1 ping web2 </code></pre><hr /><h2>host 网络模式</h2><ul><li>容器与宿主机共享网络栈</li><li>无需端口映射，直接使用宿主机端口</li><li>适用于高性能场景，如负载均衡器或代理服务</li></ul><p>示例：</p><pre><code class="language-bash">docker run --network host nginx </code></pre><p>注意：仅适用于 Linux，Docker Desktop 的 host 网络行为不同。</p><hr /><h2>overlay 网络（Swarm 模式）</h2><ul><li>支持跨主机容器通信</li><li>需启用 Docker Swarm</li><li>自动实现服务发现与加密传输</li></ul><p>创建步骤：</p><pre><code class="language-bash">docker swarm init docker network create -d overlay my_overlay docker service create --name web --network my_overlay nginx </code></pre><hr /><h2>自定义网络与 DNS</h2><ul><li>使用 <code>docker network create</code> 创建隔离网络</li><li>容器自动注册 DNS 名称，支持名称解析</li><li>提升安全性与可维护性</li></ul><p>示例：</p><pre><code class="language-bash">docker network create my_net docker run -d --name db --network my_net postgres docker run -d --name app --network my_net myapp </code></pre><p>在 <code>app</code> 容器中可通过 <code>db:5432</code> 访问数据库。</p><hr /><h2>端口映射与访问控制</h2><ul><li>使用 <code>-p</code> 参数将容器端口映射到宿主机</li><li>宿主机可通过 <code>localhost:端口</code> 访问容器服务</li></ul><p>示例：</p><pre><code class="language-bash">docker run -d -p 8080:80 nginx </code></pre><ul><li>可结合防火墙或反向代理实现访问控制</li></ul><hr /><h2>总结</h2><p>Docker 网络模型为容器提供了灵活的通信机制</p><p>掌握不同网络类型的原理与应用场景，不仅能提升服务稳定性，也能为后续的集群部署与安全策略打下坚实基础</p></article><hr><p><a href="/">← index</a></p><footer><img src="/0unz.png" alt="0u logo" class="footer-logo"></footer></body></html>